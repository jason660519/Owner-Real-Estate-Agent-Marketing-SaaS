# ä¸‰éšæ®µéƒ¨ç½²èªªæ˜ - Owner Real Estate Agent SaaS

> æœ¬æ–‡ä»¶è©³ç´°èªªæ˜å¾æœ¬åœ°é–‹ç™¼åˆ°æ­£å¼ä¸Šç·šçš„å®Œæ•´éƒ¨ç½²æµç¨‹

---

## ğŸ“‹ ç›®éŒ„
- [éšæ®µä¸€ï¼šæœ¬åœ°é–‹ç™¼ç’°å¢ƒ](#éšæ®µä¸€æœ¬åœ°é–‹ç™¼ç’°å¢ƒ)
- [éšæ®µäºŒï¼šæ¸¬è©¦ç’°å¢ƒéƒ¨ç½²](#éšæ®µäºŒæ¸¬è©¦ç’°å¢ƒéƒ¨ç½²)
- [éšæ®µä¸‰ï¼šæ­£å¼ç’°å¢ƒä¸Šç·š](#éšæ®µä¸‰æ­£å¼ç’°å¢ƒä¸Šç·š)
- [æˆæœ¬ä¼°ç®—](#æˆæœ¬ä¼°ç®—)
- [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)

---

## éšæ®µä¸€ï¼šæœ¬åœ°é–‹ç™¼ç’°å¢ƒ

### ğŸ¯ ç›®æ¨™
åœ¨æ‚¨çš„ Mac ä¸Šå»ºç«‹å®Œæ•´çš„é–‹ç™¼ç’°å¢ƒï¼Œç„¡éœ€é›²ç«¯æœå‹™ï¼Œå¿«é€Ÿè¿­ä»£é–‹ç™¼ã€‚

### ğŸ“¦ éœ€è¦å®‰è£çš„å·¥å…·

#### 1. åŸºç¤å·¥å…·
```bash
# å®‰è£ Homebrewï¼ˆå¦‚æœé‚„æ²’æœ‰ï¼‰
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£ Node.js å’Œ npm
brew install node

# å®‰è£ Docker Desktop
brew install --cask docker

# é©—è­‰å®‰è£
node --version
npm --version
docker --version
```

#### 2. Supabase CLI
```bash
# å®‰è£ Supabase CLI
brew install supabase/tap/supabase

# é©—è­‰å®‰è£
supabase --version
```

#### 3. Expo CLI
```bash
# å®‰è£ Expo CLI
npm install -g expo-cli

# æˆ–ä½¿ç”¨ npxï¼ˆæ¨è–¦ï¼‰
npx expo --version
```

### ğŸš€ å•Ÿå‹•æµç¨‹

#### Step 1: åˆå§‹åŒ– Supabase æœ¬åœ°ç’°å¢ƒ
```bash
# åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„
cd "/Users/jason66/Owner Real Estate Agent SaaS"

# åˆå§‹åŒ– Supabaseï¼ˆåªéœ€åŸ·è¡Œä¸€æ¬¡ï¼‰
npx supabase init

# å•Ÿå‹• Supabase æœ¬åœ°æœå‹™
npx supabase start
```

**é æœŸè¼¸å‡ºï¼š**
```
Started supabase local development setup.

         API URL: http://localhost:54321
     GraphQL URL: http://localhost:54321/graphql/v1
          DB URL: postgresql://postgres:postgres@localhost:54322/postgres
      Studio URL: http://localhost:54323
    Inbucket URL: http://localhost:54324
      JWT secret: <your-jwt-secret>
        anon key: <your-anon-key>
service_role key: <your-service-role-key>
```

**ğŸ’¡ é‡è¦ï¼š**
- å°‡ `anon key` ä¿å­˜åˆ°ç’°å¢ƒè®Šæ•¸
- Studio URL æ˜¯è³‡æ–™åº«ç®¡ç†ä»‹é¢
- æ‰€æœ‰è³‡æ–™å­˜åœ¨æœ¬åœ° Docker å®¹å™¨ä¸­

#### Step 2: å»ºç«‹è³‡æ–™åº« Schema
```bash
# å‰µå»ºé·ç§»æª”æ¡ˆ
npx supabase migration new initial_schema

# ç·¨è¼¯é·ç§»æª”æ¡ˆï¼ˆåœ¨ supabase/migrations/ï¼‰
```

**è³‡æ–™åº« Schema ç¯„ä¾‹ï¼š**
```sql
-- supabase/migrations/20260112000000_initial_schema.sql

-- ç‰©ä»¶è¡¨
CREATE TABLE properties (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  agent_id UUID REFERENCES auth.users(id),
  address TEXT NOT NULL,
  district TEXT,
  total_area NUMERIC,
  building_age INTEGER,
  transcript_data JSONB,  -- è¬„æœ¬è§£æè³‡æ–™
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç…§ç‰‡è¡¨
CREATE TABLE property_photos (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  property_id UUID REFERENCES properties(id) ON DELETE CASCADE,
  storage_path TEXT NOT NULL,
  display_order INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- å®¢æˆ¶è¡¨
CREATE TABLE clients (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  agent_id UUID REFERENCES auth.users(id),
  name TEXT NOT NULL,
  phone TEXT,
  email TEXT,
  preferences JSONB,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- å•Ÿç”¨ Row Level Security
ALTER TABLE properties ENABLE ROW LEVEL SECURITY;
ALTER TABLE property_photos ENABLE ROW LEVEL SECURITY;
ALTER TABLE clients ENABLE ROW LEVEL SECURITY;

-- æ”¿ç­–ï¼šä»²ä»‹åªèƒ½çœ‹åˆ°è‡ªå·±çš„è³‡æ–™
CREATE POLICY "ä»²ä»‹åªèƒ½æŸ¥çœ‹è‡ªå·±çš„ç‰©ä»¶"
  ON properties FOR SELECT
  USING (auth.uid() = agent_id);

CREATE POLICY "ä»²ä»‹åªèƒ½æ–°å¢è‡ªå·±çš„ç‰©ä»¶"
  ON properties FOR INSERT
  WITH CHECK (auth.uid() = agent_id);

-- ç´¢å¼•å„ªåŒ–
CREATE INDEX idx_properties_agent ON properties(agent_id);
CREATE INDEX idx_transcript_data ON properties USING GIN (transcript_data);
```

**åŸ·è¡Œé·ç§»ï¼š**
```bash
npx supabase db reset
```

#### Step 3: è¨­å®š Storage Buckets
åœ¨ Supabase Studio (http://localhost:54323) ä¸­ï¼š
1. é€²å…¥ **Storage** é é¢
2. å‰µå»º Bucketï¼š`property-photos`
3. è¨­å®šæ”¿ç­–ï¼š

```sql
-- å…è¨±èªè­‰ä½¿ç”¨è€…ä¸Šå‚³
CREATE POLICY "èªè­‰ä½¿ç”¨è€…å¯ä¸Šå‚³ç…§ç‰‡"
ON storage.objects FOR INSERT
TO authenticated
WITH CHECK (bucket_id = 'property-photos');

-- å…¬é–‹è®€å–
CREATE POLICY "æ‰€æœ‰äººå¯æŸ¥çœ‹ç…§ç‰‡"
ON storage.objects FOR SELECT
TO public
USING (bucket_id = 'property-photos');
```

#### Step 4: å•Ÿå‹•å‰ç«¯é–‹ç™¼
```bash
cd frontend

# å‰µå»ºç’°å¢ƒè®Šæ•¸æª”æ¡ˆ
cat > .env.local << EOF
EXPO_PUBLIC_SUPABASE_URL=http://localhost:54321
EXPO_PUBLIC_SUPABASE_ANON_KEY=<å¾ supabase start è¼¸å‡ºè¤‡è£½>
EXPO_PUBLIC_RASA_URL=http://localhost:5005
EOF

# å®‰è£ä¾è³´
npm install

# å®‰è£ Supabase å®¢æˆ¶ç«¯
npm install @supabase/supabase-js

# å•Ÿå‹• Expo
npx expo start
```

#### Step 5: å•Ÿå‹• Rasaï¼ˆå¯é¸ï¼‰
```bash
# å¦‚æœéœ€è¦ AI å°è©±åŠŸèƒ½
docker run -d \
  --name owner_saas_rasa \
  -p 5005:5005 \
  -v $(pwd)/rasa:/app \
  rasa/rasa:latest-full
```

### ğŸ§ª æ¸¬è©¦æœ¬åœ°ç’°å¢ƒ

#### æ¸¬è©¦è³‡æ–™åº«é€£æ¥
åœ¨å‰ç«¯å‰µå»º `lib/supabase.ts`ï¼š
```typescript
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.EXPO_PUBLIC_SUPABASE_URL!
const supabaseAnonKey = process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY!

export const supabase = createClient(supabaseUrl, supabaseAnonKey)

// æ¸¬è©¦æŸ¥è©¢
export async function testConnection() {
  const { data, error } = await supabase
    .from('properties')
    .select('*')
    .limit(1)
  
  console.log('é€£æ¥æ¸¬è©¦:', error ? error : 'æˆåŠŸ')
  return data
}
```

#### æ¸¬è©¦æª”æ¡ˆä¸Šå‚³
```typescript
export async function uploadPhoto(file: File, propertyId: string) {
  const fileName = `${propertyId}/${Date.now()}.jpg`
  
  const { data, error } = await supabase.storage
    .from('property-photos')
    .upload(fileName, file)
  
  if (error) throw error
  
  return supabase.storage
    .from('property-photos')
    .getPublicUrl(fileName)
}
```

### ğŸ“± æ‰‹æ©Ÿæ¸¬è©¦

#### åŒç¶²è·¯æ¸¬è©¦
```bash
# æŸ¥çœ‹æ‚¨çš„ Mac IP
ifconfig | grep "inet " | grep -v 127.0.0.1

# å‡è¨­é¡¯ç¤º 192.168.1.100
# æ‰‹æ©Ÿæƒæ Expo QR Code å³å¯æ¸¬è©¦
```

### âœ… éšæ®µä¸€æª¢æŸ¥æ¸…å–®
- [ ] Docker Desktop é‹è¡Œä¸­
- [ ] Supabase æœ¬åœ°æœå‹™å•Ÿå‹•æˆåŠŸ
- [ ] è³‡æ–™åº« Schema å»ºç«‹å®Œæˆ
- [ ] Storage Buckets é…ç½®å®Œæˆ
- [ ] å‰ç«¯å¯é€£æ¥ Supabase
- [ ] æ‰‹æ©Ÿå¯è¨ªå•é–‹ç™¼ä¼ºæœå™¨
- [ ] æª”æ¡ˆä¸Šå‚³åŠŸèƒ½æ¸¬è©¦é€šé

---

## éšæ®µäºŒï¼šæ¸¬è©¦ç’°å¢ƒéƒ¨ç½²

### ğŸ¯ ç›®æ¨™
éƒ¨ç½²åˆ°é›²ç«¯æ¸¬è©¦ç’°å¢ƒï¼Œè®“æ¸¬è©¦ä½¿ç”¨è€…ï¼ˆæœ‹å‹ã€æ½›åœ¨å®¢æˆ¶ï¼‰å¯ä»¥éš¨æ™‚è¨ªå•ã€‚

### ğŸŒ æœå‹™é¸æ“‡

#### å¾Œç«¯ï¼šSupabase Cloudï¼ˆå…è²»æ–¹æ¡ˆï¼‰
- **å„ªé»**ï¼šå…è²»ã€å³é–‹å³ç”¨ã€ç„¡éœ€ç¶­è­·
- **é™åˆ¶**ï¼š500MB è³‡æ–™åº«ã€1GB æª”æ¡ˆå„²å­˜ã€50,000 æœˆæ´»èºä½¿ç”¨è€…

#### å‰ç«¯ï¼šVercelï¼ˆå…è²»æ–¹æ¡ˆï¼‰
- **å„ªé»**ï¼šè‡ªå‹•éƒ¨ç½²ã€CDNã€HTTPS
- **é™åˆ¶**ï¼š100GB é »å¯¬/æœˆ

### ğŸš€ éƒ¨ç½²æµç¨‹

#### Step 1: å»ºç«‹ Supabase Cloud å°ˆæ¡ˆ
```bash
# 1. è¨ªå• https://supabase.com
# 2. è¨»å†Š/ç™»å…¥å¸³è™Ÿ
# 3. é»æ“Š "New Project"

å°ˆæ¡ˆè¨­å®šï¼š
- Organization: é¸æ“‡æˆ–å‰µå»ºçµ„ç¹”
- Project Name: owner-real-estate-saas
- Database Password: è¨­å®šå¼·å¯†ç¢¼ï¼ˆè«‹è¨˜ä½ï¼‰
- Region: Northeast Asia (Tokyo) - æœ€æ¥è¿‘å°ç£
- Pricing Plan: Free
```

#### Step 2: åŒæ­¥æœ¬åœ° Schema åˆ°é›²ç«¯
```bash
# ç™»å…¥ Supabase CLI
npx supabase login

# é€£çµå°ˆæ¡ˆ
npx supabase link --project-ref <your-project-ref>

# æ¨é€è³‡æ–™åº«é·ç§»
npx supabase db push

# é©—è­‰é·ç§»
npx supabase db diff
```

#### Step 3: é…ç½® Storage å’Œ Policies
åœ¨ Supabase Dashboard (https://app.supabase.com) ä¸­ï¼š
1. é€²å…¥å°ˆæ¡ˆ
2. é‡è¤‡éšæ®µä¸€çš„ Storage è¨­å®š
3. æˆ–ä½¿ç”¨ SQL ç·¨è¼¯å™¨åŸ·è¡Œç›¸åŒ SQL

#### Step 4: ç²å– API é‡‘é‘°
```bash
# åœ¨ Supabase Dashboard > Settings > API
è¤‡è£½ï¼š
- Project URL: https://xxxxx.supabase.co
- anon public key: eyJhbGc...
```

#### Step 5: éƒ¨ç½²å‰ç«¯åˆ° Vercel

**æº–å‚™ Git Repositoryï¼š**
```bash
cd "/Users/jason66/Owner Real Estate Agent SaaS"

# åˆå§‹åŒ– Gitï¼ˆå¦‚æœé‚„æ²’æœ‰ï¼‰
git init
git add .
git commit -m "Initial commit with Supabase"

# æ¨é€åˆ° GitHub
gh repo create owner-real-estate-saas --private
git remote add origin https://github.com/yourusername/owner-real-estate-saas.git
git push -u origin main
```

**éƒ¨ç½²åˆ° Vercelï¼š**
```bash
# å®‰è£ Vercel CLI
npm install -g vercel

# ç™»å…¥
vercel login

# éƒ¨ç½²
cd frontend
vercel

# è¨­å®šç’°å¢ƒè®Šæ•¸ï¼ˆåœ¨ Vercel Dashboard æˆ– CLIï¼‰
vercel env add EXPO_PUBLIC_SUPABASE_URL
# è¼¸å…¥: https://xxxxx.supabase.co

vercel env add EXPO_PUBLIC_SUPABASE_ANON_KEY
# è¼¸å…¥: eyJhbGc...

# é‡æ–°éƒ¨ç½²
vercel --prod
```

**é æœŸè¼¸å‡ºï¼š**
```
âœ…  Production: https://owner-real-estate-saas.vercel.app
```

#### Step 6: è¨­å®šè‡ªè¨‚åŸŸåï¼ˆå¯é¸ï¼‰
```bash
# åœ¨ Vercel Dashboard
1. Domains > Add Domain
2. è¼¸å…¥: app.yourcompany.com
3. è¨­å®š DNS CNAME è¨˜éŒ„æŒ‡å‘ cname.vercel-dns.com
```

### ğŸ§ª æ¸¬è©¦ç’°å¢ƒé©—è­‰

#### åŠŸèƒ½æ¸¬è©¦æ¸…å–®
- [ ] ä½¿ç”¨è€…è¨»å†Š/ç™»å…¥
- [ ] å‰µå»ºç‰©ä»¶è³‡æ–™
- [ ] ä¸Šå‚³ç…§ç‰‡
- [ ] æŸ¥çœ‹ç‰©ä»¶åˆ—è¡¨
- [ ] ç·¨è¼¯ç‰©ä»¶è³‡è¨Š
- [ ] æ‰‹æ©Ÿç€è¦½å™¨è¨ªå•

#### é‚€è«‹æ¸¬è©¦ä½¿ç”¨è€…
```bash
# åˆ†äº«æ¸¬è©¦é€£çµ
https://owner-real-estate-saas.vercel.app

# æˆ–è‡ªè¨‚åŸŸå
https://app.yourcompany.com
```

### ğŸ“Š ç›£æ§èˆ‡é™¤éŒ¯

#### Supabase ç›£æ§
```bash
# Dashboard > Logs
- æŸ¥çœ‹ API è«‹æ±‚
- è³‡æ–™åº«æŸ¥è©¢æ•ˆèƒ½
- éŒ¯èª¤æ—¥èªŒ
```

#### Vercel ç›£æ§
```bash
# Dashboard > Analytics
- é é¢ç€è¦½é‡
- æ•ˆèƒ½æŒ‡æ¨™
- éŒ¯èª¤è¿½è¹¤
```

### âœ… éšæ®µäºŒæª¢æŸ¥æ¸…å–®
- [ ] Supabase Cloud å°ˆæ¡ˆå»ºç«‹
- [ ] è³‡æ–™åº« Schema åŒæ­¥å®Œæˆ
- [ ] Storage é…ç½®å®Œæˆ
- [ ] å‰ç«¯éƒ¨ç½²åˆ° Vercel
- [ ] HTTPS è­‰æ›¸è‡ªå‹•é…ç½®
- [ ] æ¸¬è©¦ä½¿ç”¨è€…å¯æ­£å¸¸è¨ªå•
- [ ] æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ¸¬è©¦é€šé
- [ ] ç›£æ§å’Œæ—¥èªŒæ­£å¸¸é‹ä½œ

---

## éšæ®µä¸‰ï¼šæ­£å¼ç’°å¢ƒä¸Šç·š

### ğŸ¯ ç›®æ¨™
æº–å‚™ç©©å®šã€å¯æ“´å±•çš„ç”Ÿç”¢ç’°å¢ƒï¼Œæ”¯æ´ä»˜è²»å®¢æˆ¶ä½¿ç”¨ã€‚

### ğŸ’° å‡ç´šæœå‹™æ–¹æ¡ˆ

#### Supabase Proï¼ˆ$25/æœˆï¼‰
**å‡ç´šåŸå› ï¼š**
- 8GB è³‡æ–™åº«ï¼ˆvs å…è²» 500MBï¼‰
- 100GB æª”æ¡ˆå„²å­˜ï¼ˆvs å…è²» 1GBï¼‰
- æ¯æ—¥è‡ªå‹•å‚™ä»½
- å„ªå…ˆæ”¯æ´
- ç§»é™¤ã€ŒSupabase å“ç‰Œã€

**å¦‚ä½•å‡ç´šï¼š**
```bash
# Supabase Dashboard > Settings > Billing
1. é¸æ“‡ Pro Plan
2. è¼¸å…¥ä¿¡ç”¨å¡è³‡è¨Š
3. ç¢ºèªè¨‚é–±
```

#### Vercel Proï¼ˆ$20/æœˆï¼‰æˆ– Hobbyï¼ˆå…è²»ï¼‰
**å‡ç´šè€ƒé‡ï¼š**
- Hobby æ–¹æ¡ˆå·²è¶³å¤ åˆæœŸä½¿ç”¨
- Pro æ–¹æ¡ˆæä¾›ï¼š
  - æ›´å¤šåœ˜éšŠæˆå“¡
  - å¯†ç¢¼ä¿è­·åŠŸèƒ½
  - é€²éšåˆ†æ

### ğŸ” å®‰å…¨æ€§å¼·åŒ–

#### 1. ç’°å¢ƒè®Šæ•¸ç®¡ç†
```bash
# çµ•ä¸å°‡æ•æ„Ÿè³‡è¨Šæäº¤åˆ° Git
cat > .gitignore << EOF
.env
.env.local
.env.production
*.pem
*.key
EOF

# ä½¿ç”¨ Vercel Secrets
vercel env add SUPABASE_SERVICE_ROLE_KEY
vercel env add STRIPE_SECRET_KEY
vercel env add TWILIO_AUTH_TOKEN
```

#### 2. è³‡æ–™åº«å®‰å…¨
```sql
-- å®šæœŸå¯©æŸ¥ RLS æ”¿ç­–
SELECT schemaname, tablename, policyname 
FROM pg_policies 
WHERE schemaname = 'public';

-- é™åˆ¶ API é€Ÿç‡ï¼ˆåœ¨ Supabase Dashboard > Settings > APIï¼‰
Rate Limiting: 100 requests/minute per IP
```

#### 3. æª”æ¡ˆä¸Šå‚³é™åˆ¶
```typescript
// å‰ç«¯é©—è­‰
const MAX_FILE_SIZE = 5 * 1024 * 1024 // 5MB

export async function uploadPhoto(file: File) {
  if (file.size > MAX_FILE_SIZE) {
    throw new Error('æª”æ¡ˆå¤§å°è¶…é 5MB')
  }
  
  const allowedTypes = ['image/jpeg', 'image/png', 'image/webp']
  if (!allowedTypes.includes(file.type)) {
    throw new Error('åªå…è¨± JPGã€PNGã€WebP æ ¼å¼')
  }
  
  // ... ä¸Šå‚³é‚è¼¯
}
```

#### 4. å•Ÿç”¨ HTTPS Everywhere
```typescript
// å¼·åˆ¶ HTTPSï¼ˆåœ¨ vercel.jsonï¼‰
{
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "Strict-Transport-Security",
          "value": "max-age=31536000; includeSubDomains"
        }
      ]
    }
  ]
}
```

### ğŸ“ˆ æ•ˆèƒ½å„ªåŒ–

#### 1. è³‡æ–™åº«ç´¢å¼•
```sql
-- åˆ†ææ…¢æŸ¥è©¢
SELECT * FROM pg_stat_statements 
ORDER BY mean_exec_time DESC 
LIMIT 10;

-- æ·»åŠ ç´¢å¼•
CREATE INDEX idx_properties_district ON properties(district);
CREATE INDEX idx_properties_created ON properties(created_at DESC);
CREATE INDEX idx_photos_property ON property_photos(property_id);
```

#### 2. åœ–ç‰‡å„ªåŒ–
```typescript
// ä½¿ç”¨ Supabase Image Transformation
export function getOptimizedImageUrl(path: string, width: number) {
  return supabase.storage
    .from('property-photos')
    .getPublicUrl(path, {
      transform: {
        width,
        quality: 80,
        format: 'webp'
      }
    })
}
```

#### 3. å•Ÿç”¨ CDN å¿«å–
```typescript
// vercel.json
{
  "headers": [
    {
      "source": "/api/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=3600, s-maxage=3600"
        }
      ]
    }
  ]
}
```

### ğŸ”„ CI/CD è‡ªå‹•åŒ–éƒ¨ç½²

#### GitHub Actions é…ç½®
```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
      
      - name: Install dependencies
        run: |
          cd frontend
          npm ci
      
      - name: Run tests
        run: npm test
      
      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v20
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.ORG_ID }}
          vercel-project-id: ${{ secrets.PROJECT_ID }}
          vercel-args: '--prod'
```

### ğŸ’¾ å‚™ä»½ç­–ç•¥

#### Supabase è‡ªå‹•å‚™ä»½
```bash
# Pro æ–¹æ¡ˆè‡ªå‹•åŒ…å«æ¯æ—¥å‚™ä»½
# Dashboard > Settings > Backups

ä¿ç•™æ”¿ç­–ï¼š
- æ¯æ—¥å‚™ä»½ï¼šä¿ç•™ 7 å¤©
- æ¯é€±å‚™ä»½ï¼šä¿ç•™ 4 é€±
- æ‰‹å‹•å‚™ä»½ï¼šæ°¸ä¹…ä¿ç•™ï¼ˆæœ€å¤š 5 å€‹ï¼‰
```

#### æ‰‹å‹•å‚™ä»½è…³æœ¬
```bash
# backup.sh
#!/bin/bash

DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="./backups"

# å‚™ä»½è³‡æ–™åº«
npx supabase db dump -f "$BACKUP_DIR/db_$DATE.sql"

# å‚™ä»½ Storageï¼ˆä½¿ç”¨ rcloneï¼‰
rclone sync supabase:property-photos "$BACKUP_DIR/storage_$DATE"

echo "å‚™ä»½å®Œæˆ: $DATE"
```

#### è¨­å®šå®šæœŸå‚™ä»½ï¼ˆcronï¼‰
```bash
# æ¯å¤©å‡Œæ™¨ 2 é»å‚™ä»½
crontab -e

0 2 * * * /path/to/backup.sh
```

### ğŸ“± ç™¼å¸ƒ Appï¼ˆå¯é¸ï¼‰

#### PWA ç‰ˆæœ¬ï¼ˆæ¨è–¦ï¼‰
```bash
# åœ¨å‰ç«¯å°ˆæ¡ˆæ·»åŠ  PWA æ”¯æ´
npx expo install expo-dev-client

# é…ç½® app.json
{
  "expo": {
    "name": "Owner Real Estate",
    "web": {
      "favicon": "./assets/favicon.png",
      "bundler": "metro",
      "output": "single"
    }
  }
}

# å»ºç½® Web ç‰ˆæœ¬
npx expo export:web

# éƒ¨ç½²åˆ° Vercelï¼ˆæœƒè‡ªå‹•æ”¯æ´ PWAï¼‰
vercel --prod
```

#### Native Appï¼ˆé€²éšï¼‰
```bash
# ä½¿ç”¨ EAS Build
npm install -g eas-cli
eas login
eas build --platform ios
eas build --platform android

# æäº¤åˆ° App Store / Google Play
eas submit --platform ios
eas submit --platform android
```

### ğŸ” ç›£æ§èˆ‡è­¦å ±

#### è¨­å®š Uptime ç›£æ§
```bash
# ä½¿ç”¨ UptimeRobotï¼ˆå…è²»ï¼‰
1. è¨ªå• https://uptimerobot.com
2. æ–°å¢ç›£æ§ï¼šhttps://app.yourcompany.com
3. è¨­å®šè­¦å ±ï¼šEmail/SMS
4. æª¢æŸ¥é–“éš”ï¼š5 åˆ†é˜
```

#### éŒ¯èª¤è¿½è¹¤ï¼ˆSentryï¼‰
```bash
# å®‰è£ Sentry
npm install @sentry/react-native

# é…ç½®
import * as Sentry from '@sentry/react-native'

Sentry.init({
  dsn: 'https://xxx@xxx.ingest.sentry.io/xxx',
  environment: 'production'
})
```

### âœ… éšæ®µä¸‰æª¢æŸ¥æ¸…å–®
- [ ] Supabase å‡ç´šåˆ° Pro æ–¹æ¡ˆ
- [ ] ç’°å¢ƒè®Šæ•¸å®‰å…¨ç®¡ç†
- [ ] RLS æ”¿ç­–å…¨é¢å¯©æŸ¥
- [ ] è³‡æ–™åº«ç´¢å¼•å„ªåŒ–
- [ ] åœ–ç‰‡ CDN å¿«å–å•Ÿç”¨
- [ ] CI/CD è‡ªå‹•éƒ¨ç½²é…ç½®
- [ ] æ¯æ—¥è‡ªå‹•å‚™ä»½è¨­å®š
- [ ] Uptime ç›£æ§å•Ÿç”¨
- [ ] éŒ¯èª¤è¿½è¹¤å·¥å…·æ•´åˆ
- [ ] PWA æˆ– Native App ç™¼å¸ƒ
- [ ] è‡ªè¨‚åŸŸåé…ç½®
- [ ] SSL è­‰æ›¸æœ‰æ•ˆ

---

## æˆæœ¬ä¼°ç®—

### éšæ®µä¸€ï¼šæœ¬åœ°é–‹ç™¼ï¼ˆ$0ï¼‰
| é …ç›® | æˆæœ¬ |
|------|------|
| Supabase æœ¬åœ°ç‰ˆ | $0 |
| Rasa Docker | $0 |
| Expo é–‹ç™¼å·¥å…· | $0 |
| **ç¸½è¨ˆ** | **$0/æœˆ** |

### éšæ®µäºŒï¼šæ¸¬è©¦ç’°å¢ƒï¼ˆ$0ï¼‰
| é …ç›® | æ–¹æ¡ˆ | æˆæœ¬ |
|------|------|------|
| Supabase | Free | $0 |
| Vercel | Hobby | $0 |
| **ç¸½è¨ˆ** | | **$0/æœˆ** |

**é™åˆ¶ï¼š**
- 500MB è³‡æ–™åº«
- 1GB æª”æ¡ˆå„²å­˜
- 50,000 MAU

### éšæ®µä¸‰ï¼šæ­£å¼ç’°å¢ƒï¼ˆ$45-150/æœˆï¼‰

#### åŸºæœ¬é…ç½®ï¼ˆ$45/æœˆï¼‰
| é …ç›® | æ–¹æ¡ˆ | æˆæœ¬ |
|------|------|------|
| Supabase | Pro | $25 |
| Vercel | Hobby | $0 |
| Sentry | Developer | $0 |
| UptimeRobot | Free | $0 |
| **ç¸½è¨ˆ** | | **$25/æœˆ** |

**é©ç”¨æ–¼ï¼š**
- < 100 å€‹æ´»èºä»²ä»‹
- < 1000 å€‹ç‰©ä»¶
- < 10GB æª”æ¡ˆ

#### æˆé•·é…ç½®ï¼ˆ$150/æœˆï¼‰
| é …ç›® | æ–¹æ¡ˆ | æˆæœ¬ |
|------|------|------|
| Supabase | Pro + é¡å¤–å„²å­˜ | $50 |
| Vercel | Pro | $20 |
| Rasaï¼ˆè‡ªæ¶ VPSï¼‰ | DigitalOcean 4GB | $24 |
| Twilio SMS | Pay-as-you-go | $20 |
| Stripe | 2.9% + $0.3/ç­† | $20 |
| CDNï¼ˆCloudflareï¼‰ | Pro | $20 |
| **ç¸½è¨ˆ** | | **$154/æœˆ** |

**é©ç”¨æ–¼ï¼š**
- < 500 å€‹æ´»èºä»²ä»‹
- < 5000 å€‹ç‰©ä»¶
- < 50GB æª”æ¡ˆ

#### ä¼æ¥­é…ç½®ï¼ˆ$500+/æœˆï¼‰
| é …ç›® | æ–¹æ¡ˆ | æˆæœ¬ |
|------|------|------|
| Supabase | Team | $599 |
| Vercel | Enterprise | $150 |
| å°ˆå±¬ä¼ºæœå™¨ï¼ˆRasa + AIï¼‰ | AWS EC2 | $200 |
| å…¶ä»–æœå‹™ | | $100 |
| **ç¸½è¨ˆ** | | **$1049/æœˆ** |

---

## å¸¸è¦‹å•é¡Œ

### Q1: ä½¿ç”¨è€…éœ€è¦ä¸‹è¼‰è»Ÿé«”å—ï¼Ÿ
**ç­”ï¼šä¸éœ€è¦ã€‚**
- æ¡Œé¢ï¼šç€è¦½å™¨ç›´æ¥è¨ªå•ï¼ˆChromeã€Safariï¼‰
- æ‰‹æ©Ÿï¼šç€è¦½å™¨è¨ªå•æˆ–å®‰è£ PWAï¼ˆåƒ App ä½†ä¸éœ€ç¶“éå•†åº—ï¼‰
- å¯é¸ï¼šç™¼å¸ƒåˆ° App Store / Google Play

### Q2: æœ¬åœ°é–‹ç™¼éœ€è¦ä¸€ç›´é–‹è‘—é›»è…¦å—ï¼Ÿ
**ç­”ï¼šæ˜¯çš„ï¼Œä½†åƒ…é™é–‹ç™¼éšæ®µã€‚**
- æœ¬åœ°é–‹ç™¼ï¼šéœ€è¦ Mac é‹è¡Œ Supabase Docker
- æ¸¬è©¦/æ­£å¼ç’°å¢ƒï¼šä½¿ç”¨é›²ç«¯æœå‹™ï¼Œä¸éœ€è¦æ‚¨çš„é›»è…¦

### Q3: å¦‚ä½•å¾æ¸¬è©¦ç’°å¢ƒé·ç§»åˆ°æ­£å¼ç’°å¢ƒï¼Ÿ
**ç­”ï¼šå¹¾ä¹ç„¡ç¸«é·ç§»ã€‚**
```bash
# 1. åŒ¯å‡ºæ¸¬è©¦ç’°å¢ƒè³‡æ–™
npx supabase db dump -f test_data.sql

# 2. åœ¨æ­£å¼ç’°å¢ƒåŒ¯å…¥
npx supabase db push --db-url "æ­£å¼ç’°å¢ƒé€£æ¥å­—ä¸²"

# 3. æ›´æ–°å‰ç«¯ç’°å¢ƒè®Šæ•¸
vercel env add EXPO_PUBLIC_SUPABASE_URL production
```

### Q4: å¦‚ä½•ç¢ºä¿è³‡æ–™å®‰å…¨ï¼Ÿ
**ç­”ï¼šå¤šå±¤é˜²è­·ã€‚**
- âœ… Row Level Security (RLS) - è³‡æ–™åº«å±¤ç´šéš”é›¢
- âœ… HTTPS åŠ å¯†å‚³è¼¸
- âœ… JWT èº«ä»½é©—è­‰
- âœ… æ¯æ—¥è‡ªå‹•å‚™ä»½
- âœ… å®šæœŸå®‰å…¨å¯©è¨ˆ

### Q5: å¯ä»¥å…ˆç”¨å…è²»æ–¹æ¡ˆæ¸¬è©¦å—ï¼Ÿ
**ç­”ï¼šå®Œå…¨å¯ä»¥ã€‚**
- éšæ®µä¸€ã€äºŒéƒ½æ˜¯å…è²»
- æ¸¬è©¦å¾Œå†æ±ºå®šæ˜¯å¦å‡ç´š
- éš¨æ™‚å¯å‡ç´š/é™ç´š

### Q6: Supabase å’Œè‡ªæ¶ PostgreSQL çš„å·®ç•°ï¼Ÿ
**ç­”ï¼šä¸»è¦æ˜¯ç¶­è­·æˆæœ¬ã€‚**

| é …ç›® | Supabase Cloud | è‡ªæ¶ PostgreSQL |
|------|----------------|----------------|
| å®‰è£é…ç½® | å³é–‹å³ç”¨ | éœ€æ‰‹å‹•å®‰è£ |
| å‚™ä»½ | è‡ªå‹• | éœ€è‡ªå·±è¨­å®š |
| æ“´å±• | é»æ“Šå‡ç´š | æ‰‹å‹•é·ç§» |
| ç›£æ§ | å…§å»ºå„€è¡¨æ¿ | éœ€å®‰è£å·¥å…· |
| æˆæœ¬ | $25/æœˆèµ· | VPS $10/æœˆ + ç¶­è­·æ™‚é–“ |

**å»ºè­°ï¼š**é™¤éæœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå¦å‰‡ä½¿ç”¨ Supabase Cloudã€‚

### Q7: å¦‚ä½•è™•ç†å¤§é‡ç…§ç‰‡ä¸Šå‚³ï¼Ÿ
**ç­”ï¼šä½¿ç”¨ Supabase Storage + CDNã€‚**
```typescript
// æ‰¹æ¬¡ä¸Šå‚³
async function uploadMultiplePhotos(files: File[], propertyId: string) {
  const uploads = files.map((file, index) => 
    supabase.storage
      .from('property-photos')
      .upload(`${propertyId}/${Date.now()}_${index}.jpg`, file, {
        cacheControl: '3600',
        upsert: false
      })
  )
  
  return Promise.all(uploads)
}
```

### Q8: å¯ä»¥é›¢ç·šä½¿ç”¨å—ï¼Ÿ
**ç­”ï¼šéƒ¨åˆ†åŠŸèƒ½å¯ä»¥ã€‚**
- PWA æ”¯æ´é›¢ç·šç€è¦½å·²ä¸‹è¼‰çš„è³‡æ–™
- ä¸Šå‚³ç…§ç‰‡éœ€è¦ç¶²è·¯é€£æ¥
- å¯ä½¿ç”¨ `expo-sqlite` æœ¬åœ°å¿«å–

### Q9: å¦‚ä½•è¿½è¹¤ä½¿ç”¨è€…è¡Œç‚ºåˆ†æï¼Ÿ
**ç­”ï¼šå¤šç¨®å·¥å…·å¯é¸ã€‚**
```bash
# Google Analyticsï¼ˆå…è²»ï¼‰
npm install @react-native-firebase/analytics

# Mixpanelï¼ˆæœ‰å…è²»æ–¹æ¡ˆï¼‰
npm install mixpanel-react-native

# PostHogï¼ˆé–‹æºï¼‰
npm install posthog-react-native
```

### Q10: é‡åˆ°å•é¡Œå¦‚ä½•å°‹æ±‚æ”¯æ´ï¼Ÿ
**ç­”ï¼šå¤šç¨®ç®¡é“ã€‚**
- ğŸ“š å®˜æ–¹æ–‡ä»¶ï¼šhttps://supabase.com/docs
- ğŸ’¬ Discord ç¤¾ç¾¤ï¼šhttps://discord.supabase.com
- ğŸ› GitHub Issuesï¼šå›å ± Bug
- ğŸ“§ Email æ”¯æ´ï¼šPro æ–¹æ¡ˆå„ªå…ˆå›æ‡‰

---

## ä¸‹ä¸€æ­¥è¡Œå‹•

### ç«‹å³é–‹å§‹ï¼ˆç¬¬ä¸€é€±ï¼‰
- [ ] å®‰è£é–‹ç™¼å·¥å…·ï¼ˆDockerã€Supabase CLIï¼‰
- [ ] å•Ÿå‹•æœ¬åœ° Supabase
- [ ] å»ºç«‹åŸºç¤è³‡æ–™åº« Schema
- [ ] å‰µå»ºç°¡å–®çš„ç‰©ä»¶åˆ—è¡¨é é¢

### çŸ­æœŸç›®æ¨™ï¼ˆç¬¬ä¸€å€‹æœˆï¼‰
- [ ] å®Œæˆæ ¸å¿ƒåŠŸèƒ½é–‹ç™¼
- [ ] é‚€è«‹ 3-5 ä½æœ‹å‹æ¸¬è©¦
- [ ] éƒ¨ç½²åˆ°æ¸¬è©¦ç’°å¢ƒï¼ˆSupabase Cloud Free + Vercelï¼‰
- [ ] æ”¶é›†ä½¿ç”¨è€…åé¥‹

### ä¸­æœŸç›®æ¨™ï¼ˆä¸‰å€‹æœˆï¼‰
- [ ] å„ªåŒ–ä½¿ç”¨è€…é«”é©—
- [ ] å‡ç´šåˆ°æ­£å¼ç’°å¢ƒï¼ˆSupabase Proï¼‰
- [ ] è¨­å®šè‡ªè¨‚åŸŸå
- [ ] æº–å‚™è¡ŒéŠ·æ¨å»£

### é•·æœŸç›®æ¨™ï¼ˆå…­å€‹æœˆï¼‰
- [ ] é”åˆ° 50 å€‹ä»˜è²»ä»²ä»‹
- [ ] ç™¼å¸ƒ Native Appï¼ˆiOS/Androidï¼‰
- [ ] æ•´åˆé‡‘æµï¼ˆStripeï¼‰
- [ ] æ“´å±•åˆ°å…¶ä»–åŸå¸‚

---

## é™„éŒ„

### A. æ¨è–¦å­¸ç¿’è³‡æº
- [Supabase å®˜æ–¹æ•™å­¸](https://supabase.com/docs/guides/getting-started)
- [Expo å®˜æ–¹æ–‡ä»¶](https://docs.expo.dev/)
- [PostgreSQL JSONB æ•™å­¸](https://www.postgresql.org/docs/current/datatype-json.html)

### B. ç›¸é—œæ–‡ä»¶é€£çµ
- [å°ˆæ¡ˆæ¶æ§‹èªªæ˜](./å°ˆæ¡ˆæ¶æ§‹èªªæ˜.md)
- [è³‡æ–™åº«é¸å‹å»ºè­°](./è³‡æ–™åº«é¸å‹å»ºè­°.md)
- [å°ˆæ¡ˆæ¶æ§‹é¸å‹å»ºè­°æ›¸](./å°ˆæ¡ˆæ¶æ§‹é¸å‹/å°ˆæ¡ˆæ¶æ§‹é¸å‹å»ºè­°æ›¸.md)

### C. è¯çµ¡è³‡è¨Š
- å°ˆæ¡ˆ GitHub: (å¾…å»ºç«‹)
- æŠ€è¡“å•é¡Œè¨è«–: (å¾…å»ºç«‹ Discord)

---

**æœ€å¾Œæ›´æ–°ï¼š** 2026-01-12  
**ç‰ˆæœ¬ï¼š** 1.0.0  
**ä½œè€…ï¼š** Owner Real Estate Agent SaaS Team
